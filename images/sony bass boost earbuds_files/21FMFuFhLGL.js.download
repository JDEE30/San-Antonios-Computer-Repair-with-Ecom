(function(p){var l=window.AmazonUIPageJS||window.P,t=l._namespace||l.attributeErrors,g=t?t("DetailPageProductDimensionsAssets",""):l;g.guardFatal?g.guardFatal(p)(g,window):g.execute(function(){p(g,window)})})(function(p,l,t){p.when("ready").register("hit-pd-metrics-logger",function(){return{logTime:function(g,c){if("undefined"!==typeof g&&"undefined"!==typeof c){var n=l.ue;n&&"function"===typeof n.count&&n.count(g,c)}},logError:function(g){if("undefined"!==typeof g){var c=l.ue;c&&"function"===typeof c.count&&
c.count(g,1)}},emitMetric:function(g){if("undefined"!==typeof g){var c=l.ue;if(c&&"function"===typeof c.count){var n=c.count(g)||0;c.count(g,n+1)}}}}});"use strict";p.when("productDimensionDesktop-svg").execute(function(g){g.init()});p.when("A","3p-promise","hit-pd-metrics-logger","atf","cf","ready").register("productDimensionDesktop-svg",function(g,c,n){function l(){x=0;if(0<f(e.mainSideContainer).length||0<f(e.mainContainerSingleImage).length){x=f(e.productDimensionsContainer+" svg").length;u=Date.now();
var a=new c(function(a,b){v(e.svgDesktopMain+" image",a,b)});if(0<f(e.svgDesktopSide).length)var b=new c(function(a,b){v(e.svgDesktopSide+" image",a,b)});var d=new c(function(a,b){v(e.svgAvatarImage,a,b)}),q=new c(function(a,b){v(e.avatarProductImage,a,b)});p(a,b,d,q)}}function p(a,b,d,q){0<f(e.svgDesktopSide).length?(J(q,d,e.avatarContainer),Q(a,b)):(J(q,d,e.avatarContainerSingleImage),R(a))}function J(a,b,d){c.all([a,b]).then(function(a){y("hit-product-dimensions-desktop-avatar-image-loading-time",
u);a=K(a[0],a[1],d);L(e.svgDesktopAvatar,a)}).catch(function(){A()})}function Q(a,b){c.all([a,b]).then(function(a){y("hit-product-dimensions-desktop-dimension-double-images-loading-time",u);var b=a[0];a=a[1];B(e.svgHeightText);var f=M(b,a),b=z(b,f);a=z(a,f);N(e.svgDesktopMain,b);C(e.svgDesktopSide,a)}).catch(function(){A()})}function R(a){a.then(function(a){y("hit-product-dimensions-desktop-dimension-single-image-loading-time",u);B(e.svgHeightText);var d=D(a,e.mainContainerSingleImage);a=z(a,d.oneImageMaxHeight);
C(e.svgDesktopMain,a)}).catch(function(){A()})}function B(a){h=10*f(a).text().replace(/[^0-9]/g,"").length+5;E=2*(8+h+4);O=8+h}function v(a,b,d){var q=f(a).attr("data");f(a)[0].setAttribute("href",q);a=new Image;a.src=q;a.onload=function(){b(this.width/this.height)};a.onerror=d}function z(a,b){a*=b;return{imageWidth:a,imageHeight:b,svgWidth:a+E,svgHeight:b+58,leftPadding:O,imagePadding:4}}function K(a,b,d){var q=f(d).width();d=f(d).height();var g=q-8-12-12-26-10,r=f(e.svgDesktopAvatar).attr("data");
if(1>r)var k=d,c=k*r,m=k-c,l=0;else c=d,k=c/r,m=0,l=c-k;var h=k*b;a*=c;h+a>g&&(h=h/(a+h)*g,a=a/(a+h)*g,1>r?(k=h/b,c=k*r,m=(d-k)/2+(k-c),l=(d-k)/2):(c=h/b,k=c/r,m=(d-c)/2,l=(d-c)/2+(c-k)));b=g-h-a;return{avatarSvgWidth:q,avatarSvgHeight:d,productWidth:a,productHeight:c,productX:b/2,productY:m,avatarWidth:h,avatarHeight:k,avatarX:a+8+b/2,avatarY:l}}function D(a,b){b=f(b).width()-32;a=(b-E)/a;a+58>b&&(a=b-58);return{oneImageMaxHeight:a,containerWidth:b,containerHeight:b}}function M(a,b){b=D(b,e.mainSideContainer);
a=b.containerWidth/a;a+58>b.containerHeight&&(a=b.containerHeight-58);return a>b.oneImageMaxHeight?b.oneImageMaxHeight:a}function F(a,b){f(a+" image").attr("width",b.imageWidth);f(a+" image").attr("height",b.imageHeight);f(a).attr("height",b.svgHeight);f(a+" image")[0].setAttribute("y",29)}function N(a,b){F(a,b);var d=b.imageHeight+4+29;f(a).attr("width",b.imageWidth);m(a+" .hit-pd-desktop-bottom",1,d+4,b.imageWidth-1,d+4);m(a+" .hit-pd-desktop-bottomLeft",1,d,1,d+8);m(a+" .hit-pd-desktop-bottomRight",
b.imageWidth-1,d,b.imageWidth-1,d+8);w(a+" .hit-pd-desktop-widthText",b.imageWidth/2,b.imageHeight+58-2,!1);G()}function C(a,b){F(a,b);var d=b.imageWidth,c=b.imageHeight,g=b.leftPadding,e=g+b.imagePadding,k=c+4+29;f(a).attr("width",b.svgWidth);f(a+" image")[0].setAttribute("x",e);m(a+" .hit-pd-desktop-left",h+4,29,h+4,c+29);m(a+" .hit-pd-desktop-leftTop",h,30,g,30);m(a+" .hit-pd-desktop-leftBottom",h,c+29,g,c+29);m(a+" .hit-pd-desktop-bottom",e,k+4,e+d,k+4);m(a+" .hit-pd-desktop-bottomLeft",e,k,e,
k+8);m(a+" .hit-pd-desktop-bottomRight",e+d,k,e+d,k+8);w(a+" .hit-pd-desktop-heightText",h-4,c/2+35.5,!1);w(a+" .hit-pd-desktop-widthText",e+d/2,c+58-2,!1);G()}function H(a,b,d){f(a)[0].setAttribute("x",b);f(a)[0].setAttribute("y",d)}function L(a,b){f(a).attr("width",b.avatarSvgWidth);f(a).attr("height",b.avatarSvgHeight);var d=b.avatarWidth,c=b.avatarHeight,g=b.avatarX,h=b.avatarY,k=g+d+12+4,l=e.avatarProductImage,n=b.productWidth,p=b.productHeight;f(l).attr("width",n);f(l).attr("height",p);H(e.avatarProductImage,
b.productX,b.productY);b=e.svgAvatarImage;f(b).attr("width",d);f(b).attr("height",c);H(e.svgAvatarImage,g,h);m(a+" .hit-pd-avatar-height",k,h,k,h+c);m(a+" .hit-pd-avatar-heightTop",k-4,h+1,k+4,h+1);m(a+" .hit-pd-avatar-heightBottom",k-4,h+c-1,k+4,h+c-1);w(a+" .hit-pd-avatarText",k+4+26,h+c/2,!0);G()}function G(){--x;0===x&&(f(e.svgWrapper).removeClass("aok-hidden"),y("hit-product-dimensions-desktop-widget-load-time",u),P=!1,n.emitMetric("hit-product-dimensions-desktop-success"))}function m(a,b,d,
c,e){a=f(a)[0];a!==t&&(a.setAttribute("x1",b),a.setAttribute("y1",d),a.setAttribute("x2",c),a.setAttribute("y2",e))}function w(a,b,d,c){var e=f(a)[0];e!==t&&(e.setAttribute("x",b),e.setAttribute("y",d),d=f(a+" tspan"),2===d.length&&(a=f(a).attr("data"),c&&"true"===a?I(d,b,"-0.6em",b+2,"1.2em"):c&&"false"===a?I(d,b,"-0.3em",b-7,"0.8em"):I(d,b,"-0.3em",b,"0.8em")))}function I(a,b,c,e,f){a[0].setAttribute("x",b);a[0].setAttribute("dy",c);a[1].setAttribute("x",e);a[1].setAttribute("dy",f)}function y(a,
b){0<b&&P&&n.logTime(a,Date.now()-b)}function A(){f(e.productDimensionsContainer).addClass("aok-hidden");n.logError("hit-product-dimensions-desktop-image-loading-failure")}var f=g.$,h=45,O=8+h,E=2*(8+h+4),x=0,u=0,P=!0,e={productDimensionsContainer:"#productDimensionsDesktop",mainSideContainer:".hit-pd-desktop-container .hit-pd-desktop-main-side-container",mainContainerSingleImage:".hit-pd-desktop-container .hit-pd-desktop-main-container-single-image",avatarContainer:".hit-pd-desktop-container .hit-pd-desktop-avatar-container",
avatarContainerSingleImage:".hit-pd-desktop-container .hit-pd-desktop-avatar-container-single-image",avatarProductImage:".hit-pd-desktop-container #hit-pd-desktop-product-image",svgWrapper:".hit-pd-desktop-container .hit-pd-desktop-svg-wrapper",svgDesktopMain:".hit-pd-desktop-container #hit-pd-desktop-main-svg",svgDesktopSide:".hit-pd-desktop-container #hit-pd-desktop-side-svg",svgDesktopAvatar:".hit-pd-desktop-container #hit-pd-desktop-avatar-svg",svgAvatarImage:".hit-pd-desktop-container #hit-pd-desktop-avatar-image",
svgHeightText:".hit-pd-desktop-container .hit-pd-desktop-heightText"};g.on("a:pageUpdate",function(){l()});g.on.resize(function(){l()});return{init:l,lazyLoadImage:v,computeImageSize:z,drawBottomDimensionOnly:N,drawLeftAndBottomDimensions:C,drawLine:m,writeText:w,findMaxPossibleImageHeightTwoImages:M,findMaxPossibleImageHeightOneImage:D,dynamicHeightTextPadding:B,setSvgImageSize:F,drawDimensionsAvatar:L,setAvatarImagePosition:H,computeAvatarImageSize:K}})});