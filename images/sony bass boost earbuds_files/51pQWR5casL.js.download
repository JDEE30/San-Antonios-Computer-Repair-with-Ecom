(function(z){var D=window.AmazonUIPageJS||window.P,G=D._namespace||D.attributeErrors,c=G?G("DPTwisterPlusDesktopConfiguratorAssets",""):D;c.guardFatal?c.guardFatal(z)(c,window):c.execute(function(){z(c,window)})})(function(z,D,G){z.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory",
"twister-js-init-dpx-data","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view-initialiser",function(c,h,u,p,m,f,y,x,w,t){(t?t.inlineTwisterData||{}:{}).inlineTwisterEnabled&&(f=new f,new h(t,u.Row,p,m,f,y,x,w),c.trigger("desktop-configurator-view-initialized"))});"use strict";z.when("A").register("desktop-configurator-dimension-handler",function(c){function h(c){this.numberOfDimensionsExpandedOnLanding=c.numberOfDimensionsExpanded||0;this.expandAllDimensions=-1===
this.numberOfDimensionsExpandedOnLanding;this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=c.maxNumberOfDimensionsExpanded||1}h.prototype={registerDimension:function(c,h){this.dimensionKeyRowMap[c]=h;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(c)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=Object.keys(this.dimensionKeyRowMap).length)},
expandDimension:function(c){-1===this.expandedDimensionList.indexOf(c)&&this.expandedDimensionList.push(c);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var h=0;h<this.expandedDimensionList.length&&(this.expandedDimensionList[h]!==c&&this.dimensionKeyRowMap[this.expandedDimensionList[h]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);h++);},collapseDimension:function(c){c=this.expandedDimensionList.indexOf(c);-1!==c&&this.expandedDimensionList.splice(c,
1)}};return h});"use strict";z.when("A","desktop-configurator-constants","3p-promise").register("desktop-configurator-view",function(c,h,u){function p(f,y,p,w,t,v,A,n){function d(){"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function a(){if(!F)return 0===f.unselectedDimCount;var a=g();return!!F.util.getAsinFromSelectionInfo(a)}function b(a,b,e,g,l,d,c,r,q,n,f,m){return{text:a,image:b||"",popoverImage:e||
"",name:g,id:f+"_"+g,selected:l,slotHtm:d,showSlot:c,isVisible:r,unavailable:q,defaultSlotUnavailable:V,isCirclularImageSwatch:k.inlineTwisterData&&"CIRCLE"===k.inlineTwisterData.swatchShape,asin:n,pageUrl:m}}function l(a){R[a]||null===J[a]||(a=k.rows[a],a.toggleSwatch&&a.toggleSwatch.removeMisplacedSwatch())}function q(a,b){var e=S.unselectedDimensionPrompt||"",g=C(a),l=f&&f.dimensionsDisplay?f.dimensionsDisplay[g]:"",g=f&&f.dimensionValuesData?f.dimensionValuesData[g][b]:"";return{dimKey:a,titleSelectorPrefix:"inline-twister-dim-title-",
titleValueSelector:"inline-twister-dim-title-value",mainText:l,subText:-1!==b?g:e.replace("###dimension",(l||"").toLowerCase())}}function g(){if(!F){var a=[];c.each(k.dimList,function(b){a.push({dimKey:b,val:f.selectedVariationValues?f.selectedVariationValues[b]:-1})});return a}return F.state()}function e(){return c.map(k.dimList,function(a,b){if(!k.isSingletonMap[a])return new u(function(g){r(k.rows[a],a,b);g()})})}function r(g,e,l){var d=k.inlineTwisterData.slotsEnabledDimensions,r=!!((k.dimList.length===
d.length?d[l]:d[0])&&a(e));l=f.dimensionValuesData[C(e)];var q=g.getInitialVisibleSwatchList(),n=[];c.each(l,function(a,g){a=b(a,W[e+"::"+g],X[e+"::"+g],g,k.initSelectionState[e].val===g,q[g]?q[g].slotHtm:"",r,q[g]&&q[g].isVisible,q[g]&&q[g].unavailable,G,e,O[e]?O[e][a]:null);n.push(a)});k.swatches[e]=n}function C(a){return f&&f.dimensions?f.dimensions.indexOf(a):-1}function H(){c.each(k.rows,function(a){k.isSingletonMap[a.dimKey]||(a.createDisplaySwatches(),a.adjustSwatchWidthAndSpacing(),k.textSwatchMap[a.dimKey]&&
a.toggleSwatch.alignTextSwatches())})}function I(){function e(a,g,l){var d,r,q,n=a.expanderContent.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)"),m=C(g),t=f.dimensionValuesData[m]||[],m=parseInt(a.expanderContent.attr("data-swatchCountPerRow"))||n.length,y=m*k.inlineTwisterData.numOfRowsPerDimension,h=[];c.each(n,function(e,k){var c=parseInt(e.getAttribute("data-idxInToggleSwatchList")),n="true"===e.getAttribute("data-initiallySelected"),f="true"===e.getAttribute("data-initiallyUnavailable");
d=e.getAttribute("data-asin");r=c;q=t[c]||"";var m,C,H;m=W[g+"::"+r];C=X[g+"::"+r];H=q;f=b(H,m,C,r,n,"",l,!0,f,d,g,O[g]?O[g][H]:null);a.toggleSwatch&&(e=a.toggleSwatch.createSwatch(f,e),f.isVisible=e.isVisible);h.push(f);n&&k>=y&&(J[g]=c)});k.inlineVariationsSize[g]=n.length;a.toggleSwatch&&a.toggleSwatch.setNumberOfSwatchesPerRow(m);return h}function r(g,e,b){var l=!(!g||!a(e)),d=k.rows[e].getInitialVisibleSwatchList();l&&c.each(d,function(a){if(!a.unavailable){var l=n.updateIfCurrentlyActive.bind(n,
a.id),l=k.slotManager.get(a.asin,e,k.noOfLoadingIndicator,!1,Z,l,b);a.updateSlotNode({showSlot:g,slotHtm:l},!1,e)}})}function t(a,e,b){a={dimIndex:k.dimIndexMap[a],dimValueIndex:e};e=h.DP_STATE_VIEW_SUBTYPE;var l=k.dimensionsMap,d;d=g();for(var r=h.CHAR_UNDERSCORE,c=[],q=0;q<k.dimensionsMap.length;q++){var n=d[q].val;-1===n&&(n=h.CHAR_ASTERISK);c.push(String(n))}d=r?c.join(r):c;return{divMetadata:a,eventType:b,subType:e,dimensionsMap:l,currDimCombId:d}}var H=g(),p=0,u={},v=k.inlineTwisterData.slotsEnabledDimensions,
x=k.inlineTwisterData.popoverSlotsEnabledDimensions;m.each(H,function(a,g){u[g.dimKey]=g;k.dimIndexMap[g.dimKey]=a;k.dimensionsMap[a]=g.dimKey});k.initSelectionState=u;m.each(k.dimList,function(a,e){var b=u[e].val;a=E(e);var b=q(e,b),l=!(k.dimList.length===v.length?v[p]:v[0]),d=-1!==T.indexOf(e);k.textSwatchMap[e]=a;a=new y("inline-twister-row-",b,{showSlot:!1,dimKey:e,inlineTwisterData:k.inlineTwisterData},{handleDimensionExpansion:function(a,b,c){e=a.dimKey;if(c){k.dimensionHandler.expandDimension(e);
a=G;c={};U[e]?(c=M(k.swatches[e],b,e,g(),!1,!d,l,!!k.dimensionsExpandedInline[e]),k.indexTranslationMap[e]=c,a={swatches:k.swatches[e]}):(r(b,e,l),U[e]=!0);var q=k.rows[e];q.setState(a,c,K,null,!1);N(b,q,e);k.logger.logDimensionExpanded(e);d||(J[e]=null)}else k.dimensionHandler.collapseDimension(e),k.logger.logDimensionCollapsed(e)}},k.logger);k.rows[e]=a;p+=1});0===k.inlineTwisterData.numberOfDimensionsExpanded&&(d(),aa=!0);p=0;m.each(k.dimList,function(b,d){function r(a,e,g){if(e){var b=parseInt(e.buttonName,
10),l=a[b]&&a[b].id?a[b].id:"";d=e.buttonGroupName;a[b]&&a[b].selected&&k.logger.logSelectedSwatchClick();l&&n.exists(l)&&n.hide(l);K=d;a={dimKey:d,val:b};k.twister.metaData(t(d,b,h.viewEvents.CLICK));k.twister.dimensionChanged(a);k.logger.logDimensionValueClick();g&&k.logger.logDimValueClickAfterAutoUpdate()}}function q(e,b){var l=b.data,d=b.type;b=b.$currentTarget;var c=l.id,r=!!a(e),r=!l.isImageSwatch&&P&&r&&Q,r=l.isImageSwatch||r,f=!Q,m=[];if(l){if(d===h.viewEvents.MOUSE_ENTER){var C=parseInt(l.name,
10);m.push({dimKey:e,val:C});r&&n.show(c,b,l,f)}else r&&n.hide(c),m=g();F&&(k.twister.metaData(t(e,C,d)),k.twister.dimensionPeek(m));K=e}}function y(a,e){var b=parseInt(a.buttonName,10),g=k.swatches[e];(g?g[b]:G)?(B.setUserInteracting(!0),c.delay(function(){r(g,a)},350),k.logger.logSecViewSwatchClick()):z.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+b+" ; Swatch length: "+k.swatches[e].length,ba.ERROR,ba.ATTRIBUTION)}function H(a,e){k.isSideSheetOpen=e;k.isWindowResizedAfterSideSheetOpen&&
!e&&m.each(k.dimList,function(a,e){k.textSwatchMap[e]&&(w(e),(a=k.rows[e])&&a.toggleSwatch&&a.toggleSwatch.alignTextSwatches())});k.isWindowResizedAfterSideSheetOpen=!1}function u(a,e,b){var d=S.desktopConfiguratorAllOptionsString||"",r=k.swatches[a].length,q={dimensionDisplayText:b.mainText,displayValueText:b.subText,dimKey:a,getSwatchInfo:B.getSwatch.bind(B),destroyPopover:n.destroy,optionsText:d,totalValueCount:r,isTextSwatch:I};k.sideSheet.open(q);var f={swatches:k.swatches[a]};c.delay(function(){var b=
M(k.swatches[a],e,a,g(),!0,!1,A,!1);Y&&l(a);B.setState(f,b,K,null,!0,!0);k.sideSheet.update(q);R[a]=!0;c.delay(function(){I&&N(e,B,a,!0);I&&B.toggleSwatch&&r<h.TEXT_ALIGNMENT_LIMIT&&B.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);k.isSideSheetOpen=!0;k.isWindowResizedAfterSideSheetOpen=!1}function E(a,e,b){var d=B.expanderContent.height();B.setMaxHeight(d);var r={swatches:k.swatches[a]};if(b)b=(ca-k.inlineTwisterData.numOfRowsPerDimension+1)*d,d=M(k.swatches[a],e,a,g(),!1,!1,A,!0),Y&&l(a),B.setState(r,
d,K,null,!1,!0),B.triggerExpandOrCollapseAnimation(b,500),N(e,B,a),I&&B.toggleSwatch&&B.toggleSwatch.alignTextSwatches(!0),k.dimensionsExpandedInline[a]=!0,R[a]=!0;else{b=d;e=B.getDisplaySwatches();for(d=k.inlineTwisterData.numOfRowsPerDimension;d<e.length;d++){for(var c=!1,q=G,n=0;n<e[d].length;n++)if(q=e[d][n]?e[d][n].domNode:null){var f=parseInt(q.attr("data-idxInToggleSwatchList"),10),f=r.swatches[f];f.selected&&(c=!0);f.isVisible=f.selected}!c&&q&&(b-=q[0].scrollHeight)}B.triggerExpandOrCollapseAnimation(b,
250,function(){B.setState(r,{},K,null,!1)});k.dimensionsExpandedInline[a]=!1}}function w(a){F&&(k.isWindowResizedAfterSideSheetOpen=!0,k.isSideSheetOpen||(N(k.showSlotMap[a],k.rows[a],a,!1),k.sideSheet.refreshWidth()))}var I=k.textSwatchMap[d];b=[];var L=k.dimList.length===v.length?v[p]:v[0],Q=k.dimList.length===x.length?x[p]:x[0],A=!L,P=L||Q,Y=-1!==T.indexOf(d),B=k.rows[d];k.showSlotMap[d]=P;L=-1!==f.singletonDimensionKeys.indexOf(d);k.isSingletonMap[d]=L;p+=1;!L&&B&&(L=!(!P||!a(d)),J[d]=null,b=
{name:d,swatches:b,isTextSwatch:I,onChange:r,onHover:q,hideSlotsFromMainView:A,totalSwatchCount:(f.dimensionValuesData[C(d)]||[]).length},k.sideSheet.registerToggleButtonGroup(d,y,H),B.initializeComponents(b,P,{showSideSheet:u,toggleInlineExpansion:E,handleWindowResize:w}),k.dimensionHandler.registerDimension(d,B),b=e(B,d,L),k.swatches[d]=b)});aa||d()}function E(a){var e=!0;(k.inlineTwisterData.disableImageSwatch===G?0:k.inlineTwisterData.disableImageSwatch)||(e=!k.inlineTwisterData.imageDimensionKeysMap[a]);
return e}function M(e,b,g,d,r,q,f,t){var C=!(!b||!a(g));b=F.util.getDimAvailability(g,d);var y=-1!==T.indexOf(g),h=c.state("filteredAvailability");if(h!==G&&!0===h.filterApplicable&&1===d.length){for(var H={},p=0;p<h.asins.length;++p)H[h.asins[p]]=1;for(var h=[],u=[],p=0;p<b.available.length;++p){var v=b.available[p];v.asin in H?h.push(v):u.push(v)}b.available=h;b.unavailable=u}var x={},E=0,M=n.updateIfCurrentlyActive,w=-1,I=-1;m.each(d,function(a,e){e.dimKey===g&&(w=e.val,I=a)});-1!==w&&(q&&(x[w]=
E),E++);var A=k.rows[g];c.each(b.available,function(a){e[a.index]=e[a.index]||{};var b=e[a.index];b.unavailable=!1;b.selected&&(w=a.index,b.isVisible||(null!==J[g]&&e[J[g]]&&(e[J[g]].isVisible=!1,y&&l(g)),J[g]=a.index),b.isVisible=!0);q&&(b.isVisible=E<k.inlineVariationsSize[g]||b.selected);t&&(b.isVisible=!0);var d=b.isVisible||r,m=r?b.id+"_sec":b.id;C&&d?b.slotHtm=k.slotManager.get(a.asin,g,k.noOfLoadingIndicator,r,Z,M.bind(n,m),f):(b.slotHtm=b.slotHtm||"",M(m,b.slotHtm));(r||t)&&A&&A.toggleSwatch&&
(d=A.toggleSwatch.getSwatch(a.index),c.objectIsEmpty(d)&&(x[a.index]=E));q&&w!==a.index&&(x[a.index]=E);b.showSlot=C;b.selected||E++});c.each(b.unavailable,function(a){e[a.index]=e[a.index]||{};var b=e[a.index];b.unavailable=!0;q&&(b.isVisible=E<k.inlineVariationsSize[g]);t&&(b.isVisible=!0);var d=c.state("filteredAvailability"),l=V;d!==G&&!0===d.filterApplicable&&(a.index in d.variations[I]||(l='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+da+"\x3c/span\x3e"),b.defaultSlotUnavailable=
l);b.slotHtm=C?l:"";q&&(x[a.index]=E);b.showSlot=C;E++});U[g]=!0;y&&(x={});return x}function N(a,e,b,g){var d=k.textSwatchMap[b];a&&d&&(!g||k.isSideSheetOpen)&&(k.slotManager.resetMinSlotHeight(b),a=e.toggleSwatch.getSlotNodes(g),ea(a,b,g),k.slotManager.updateSlotHeight(b,g))}function ea(a,e,b){k.slotManager.resetSlotHeight(e,b);c.each(a,function(a,b){c.each(a,function(a){k.slotManager.setState(a,e,b)})})}function Z(a,e){e&&!k.isSideSheetOpen||N(!0,k.rows[a],a,e)}var k=this,F=G;this.isWindowResizedAfterSideSheetOpen=
!1;this.data=f;this.noOfLoadingIndicator=1;this.dimList=f.reorderedDimensionListKeys||[];this.dimensionsMap=[];this.dimensionsExpandedInline={};this.logger=t;this.inlineTwisterData=f?f.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new A;var J={},S=this.inlineTwisterData&&this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap:{},V='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+(S.defaultSlotUnavailableString||"")+"\x3c/span\x3e",W=f.imageHashMap||
{},X=f.desktopConfiguratorPopoverImageMap||{},O=f.dimensionPageLoadUrls||{},da="pwASINs"in f&&f.pwASINs instanceof Array&&0<f.pwASINs.length?f.pwUnavailableMessage:"";this.rows={};this.dimensionHandler=new v(k.inlineTwisterData);this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchMap={};var K,ba=h.loggingConstants,ca=h.MAX_INLINE_ROWS;this.initSelectionState={};n.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:
[]);this.inlineVariationsSize={};this.dimIndexMap={};this.isSideSheetOpen=!1;this.showSlotMap={};var T=k.inlineTwisterData.dimsWithSwatchReorderingDisabled||[],R={},U={},aa=!1;(function(){var a=k.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");a.start();I();a.stop()})();c.on("register-desktop-configurator-with-twisterCore",function(a,b){F=a;k.logger.registerTwisterCore(F);k.sideSheet.init(k.logger);a=g();var d=k.inlineTwisterData.slotsEnabledDimensions,l=k.inlineTwisterData.popoverSlotsEnabledDimensions,
r={};m.each(a,function(a,e){r[e.dimKey]=e});F.slotsDimSum.addDefaultQueryParameter("showFancyPrice",k.inlineTwisterData.showFancyPrice);F.slotsDimSum.addDefaultQueryParameter("twisterFlavor",h.DESKTOP_CONFIGURATOR_FLAVOR);k.slotManager=new p(F,w,k.logger,k.inlineTwisterData);k.dimensionHandler.init();var n=0;c.each(k.rows,function(a){function e(d){var l,r={},n;l=d.selected().selectionInfo();m.each(l,function(a,b){r[b.dimKey]=b});n=r[b].val;d=k.swatches[b];d[n]=d[n]||{};d[g]=d[g]||{};d[g].selected=
!1;d[n].selected=!0;var t=q(b,g);g===n||f||a.setThumbnailImage(d[n].image);g=n;M(d,h,b,l,!1,!1,y,!!k.dimensionsExpandedInline[b]);l=q(b,n);n={swatches:d};var C=c.filter(d,function(a){return a.isVisible});d.length!==C.length||a.isInlineExpanded||(a.hideInlineExpansionLink(),k.inlineVariationsSize[b]=d.length);a.setExpanderHeaderAriaLabel(t,l);a.setState(n,{},K,l,!1);N(h,a,b)}if(!k.isSingletonMap[a.dimKey]){a.postInitialize();var b=a.dimKey,g=r[b].val,f=E(b),t=k.dimList.length===l.length?l[n]:l[0],
C=k.dimList.length===d.length?d[n]:d[0],y=!C,h=C||t,t={viewAttribution:"DetailPage",viewName:"DesktopConfiguratorRowView_"+b};c.on("update-desktop-configurator-view",function(a){e(a)});k.twister=F.registerActive(t,{updateView:function(g,d){var l={};"VARIATION_CHANGE"===g?e(d):"VARIATION_PEEK"===g&&(g=d.peek().selectionInfo(),m.each(g,function(a,b){l[b.dimKey]=b}),g=l[b].val,g=q(b,g),K===b&&a.title.setState(g),k.sideSheet.activeDimKey===b&&k.sideSheet.updateDimVal(g))}});k.isSingletonMap[b]||a.handleSeeMoreIngress((k.swatches[b]||
[]).length)}n++});c.trigger("desktop-configurator-twisterCore-initialized",k);u.all(e()).then(function(){H()});b.then(function(){c.each(k.rows,function(a){a.activatePageRefresh()})})})}var m=c.$;p.prototype={updateView:function(f){c.trigger("update-desktop-configurator-view",f.tsm.currentState())}};return p});"use strict";z.when("A").register("desktop-configurator-constants",function(c){return{AJAX_CALL_TIMEOUT:2E4,DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",SWATCH_DATA:"SwatchData###",
DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,SIDE_SHEET_PADDING:48,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price","ms3","twisterAvailability","deliveryPromise"],DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,viewEvents:{MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CLICK:"click"},
sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",
SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",DIMENSION_EXPANDER_ICON_WRAPPER:".dimension-expander-icon-wrapper",
EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",SLOT_NODE_SELECTOR:".dimension-slot-info",TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",
DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",A_BUTTON_SELECTED:"a-button-selected",A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",GREEN_BG_COLOR:"#D9EED9",WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",
ERROR:"ERROR"}}});"use strict";z.when("A").register("desktop-configurator-logger",function(c){function h(){if(!(this instanceof h))return new h;m||(m=this);return m}function u(c){if("undefined"!==typeof D.csa){var m=D.csa("Events",{producerId:"dp-rpcx"}),h=f.count(c)||0;m("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:c,valueToLog:h},{ent:"all"})}}var p=c.$,m,f=D.ue;h.prototype={registerTwisterCore:function(c){this.twisterCore=c},logCSMDataOnLanding:function(){var c=0,m=0,h=0,t=this.twisterCore.util,
v=t.tvm.dimensionInfo,A=this.twisterCore.state().length,n=Object.keys(t.tvm.dimCombinations).length;p.each(v,function(d,a){d=a.dimKey;t.isRequiredDim(d)&&h++;t.isSingletonDim(d)?m++:c++});f&&f.count&&(f.count("dpMobileTwisterDropdownPresent",c),u("dpMobileTwisterDropdownPresent"),f.count("dpMbileTwisterSingletonDim",m),u("dpMbileTwisterSingletonDim"),f.count("dpMobileTwisterRequiredDim",h),u("dpMobileTwisterRequiredDim"),f.count("dpMobileTwisterDimSize",A),u("dpMobileTwisterDimSize"),f.count("dpMobileTwisterFamilySize",
n),u("dpMobileTwisterFamilySize"),f.count("twisterPlus.inlineTwisterGV",1),u("twisterPlus.inlineTwisterGV"))},logCSMTagsOnLanding:function(f){function m(a,b,d){var l=[];if(b===d)l.push(""),a=a[b],c.$.isArray(a)?c.each(a,function(a,b){l.push(a)}):l.push(a);else{var q=Math.floor((b+d)/2);b=m.call(this,a,b,q);var n=m.call(this,a,q+1,d);c.each(b,function(a,b){c.each(n,function(b,e){l.push(""===a?b:""===b?a:a+":"+b)})})}return l}function h(a){a&&p.push(a)}var t=this,p=[],u=!0,n=!0,d=[0,3,8,25,50,100,1E3,
5E3],a=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,b,l;f.dimensionList&&(b="variation_dimension:"+f.dimensionList.length,c.each(f.dimensionList,function(a,b){t.addCSMTag(a)}));for(var q=1;q<d.length;q++)if(a<=d[q]){l="family_size_bucket:"+d[q-1]+"-"+d[q];break}else q===d.length-1&&(l="family_size_bucket:gt"+d[q]);f.dimensionInfo&&c.each(f.dimensionInfo,function(a,b){a.isSingleton||(u=!1)});d=u?"SingletonFamily":"DesktopConfigurator";f.initDimCombination&&c.each(f.initDimCombination,
function(a,b){-1===a.val&&(n=!1)});h(b);h(l);h(d);n&&h("defaultSelection");f=m.call(this,p,0,p.length-1);(function(a){var b=this;c.each(a,function(a,g){a&&b.addCSMTag(a)})}).call(this,f)},createFunctionTimerInstance:function(c){var f=this;return{eventType:c,start:function(){this.startTime=Date.now()},stop:function(){this.startTime&&f.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(c){D.ue&&D.ue.tag&&D.ue.tag(c)},logCounter:function(c,m){f&&f.count&&(m===G?f.count(c,(f.count(c)||
0)+1):f.count(c,m),u(c))},logBottomSheetPageUpdate:function(c){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},logSecViewTotalCount:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+c)},logSecViewGV:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+c)},logSecViewClosed:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+
c)},logDimensionCollapsed:function(c){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+c)},logDimensionExpanded:function(c){this.logCounter("twisterPlus.inlineTwister.dimExpand."+c)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},
logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")}};
return h});"use strict";z.when("A").register("twister-dynamic-style",function(c){function h(c,f){this.name=c;this.styleNode;this.rules=f||[];this.pendingRefresh}var u=c.$,p={};h.prototype={refresh:function(){var c=u("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?(this.styleNode.replaceWith(c),delete this.styleNode,this.styleNode=c):(this.styleNode=c,this.styleNode.appendTo("body"))}};return{addCSSRules:function(c,f){p[c]?p[c].rules=f||[]:p[c]=
new h(c,f);p[c].refresh()}}});"use strict";z.when("A","desktop-configurator-constants","desktop-configurator-twister-register").register("desktop-configurator-slot-manager",function(c,h,u){function p(c,d,a,b){this.twisterCore=c;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};this.dynamicStyle=d;this.slotIdentifierMap={};this.logger=a;this.auiPriceSize=b&&b.auiPriceSize?b.auiPriceSize:"m";this.currentlyUnavailableMessage=b&&b.stringTranslationMap?b.stringTranslationMap.currentlyUnavailableMessage:
"";this.desktopConfiguratorSlotsInMainView=b&&b.desktopConfiguratorSlotsInMainView?b.desktopConfiguratorSlotsInMainView:[]}function m(n,d,a,b,l){var q=this.batch,g=this;q[n]=q[n]||[];q[n].push(a);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var a=c.map(g.batch,function(a,b){return b});g.twisterCore.slotsDimSum.get(a,function(a){var e=g.batch[a.ASIN];e&&(v.each(e,function(b,e){e(a)}),delete g.batch[a.ASIN]);t(g.batch)&&(e=Object.keys(g.maxSlotHeight),c.each(e,function(a){b(a,
l&&a===d)}))})},0)}function f(c,d,a,b){a[d]=a[d]||{};a[d].uniqueCount=a[d].uniqueCount||0;var l="inline-twister-dimsum-loading-"+d+"-"+a[d].uniqueCount;a[d].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+l+(c?" loading-indicator-1":"")+(b?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',promise:function(a,b){var e=v("."+l+":not(.loading-indicator-in-popover)").parent();e.length&&(e.html(a),b(e))}}}function y(c){return c.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,
"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}function x(c,d,a){return y(A.default.call(this,c.content.twisterSlotDiv,d,a))}function w(c,d){if(!c||0===c.length)return d;if(0<c.find(".loading-indicator-1").length)return c[0].scrollHeight;if(0===c.find(".defaultSlotUnavailable").length)return d;c=c[0].scrollHeight;d<c&&(d=c);return d}function t(c){for(var d in c)if(c.hasOwnProperty(d))return!1;return!0}var v=c.$,A={default:function(c,d,a){c=v("\x3cdiv\x3e"+c+"\x3c/div\x3e");var b=c.find(".price_slot_ppu"),
l=c.find("#ms3slot"),q=c.find("#twisterAvailability"),g=c.find("#deliveryPromisePrefix"),e=c.find(".variationReviewsSection"),r=a?[]:this.desktopConfiguratorSlotsInMainView,f=c.find(".twister_swatch_price");q.length&&((f.length||a)&&-1===r.indexOf("twisterAvailability")&&q.parent().addClass("aok-hidden"),q.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),q.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),q.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),
q.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),d&&this.logger.logAvailabilitySlotRender());0<f.length?(-1===r.indexOf("price")&&f.addClass("aok-hidden"),f.addClass("inline-twister-swatch-price"),a=c.find(".a-price"),0<a.length?a[0].dataset&&(a[0].dataset.aSize=this.auiPriceSize):(f.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),f.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),
f.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),a="a-size-small",f.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(a),b.length&&(a="twister-plus-inline-twister-ppu a-size-micro",b.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(a),d&&this.logger.logPPUSlotRender()),d&&this.logger.logPriceSlotRender()):(f=c.find("#sndbox-mobile-twister-price"),
0<f.length&&d&&this.logger.logPriceSlotRender());l.length&&(-1===r.indexOf("ms3")&&l.addClass("aok-hidden"),d&&this.logger.logPrimeSlotRender());0<g.length&&(g.removeClass("a-size-small a-color-secondary").addClass("a-color-base a-size-base"),-1===r.indexOf("deliveryPromise")&&g.parent().addClass("aok-hidden"),g.find("br").remove(),b=g.find("b"),0===b.length&&(b=g.find("span")),b.length&&(l=" "+y(b.text()),b.addClass("aok-hidden"),g.append("\x3cspan\x3e"+l+"\x3c/span\x3e")),d&&this.logger.logDeliverySlotRender());
0<e.length&&(e.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),-1===r.indexOf("variationReviews")&&e.addClass("aok-hidden"),d&&this.logger.logReviewsSlotRender());u.executeModifiers(c);return c.html()}};p.prototype={get:function(c,d,a,b,l,q,g){var e=this,r=this.twisterCore.slotsDimSum.get([c]);if(r[c])return x.call(e,r[c].Value,!1,g);var t=f(a,d,e.slotIdentifierMap,g);m.call(this,c,d,function(a){t.promise(x.call(e,a.Value,!0,g),q)},l,b);return t.loadingHtm},
setState:function(c,d,a){this.minSlotHeight[d]||(this.minSlotHeight[d]=[]);this.maxSlotHeight[d]||(this.maxSlotHeight[d]=[]);this.minSlotHeight[d][a]=this.minSlotHeight[d][a]||0;this.minSlotHeight[d][a]=w(c,this.minSlotHeight[d][a]);this.maxSlotHeight[d][a]=this.maxSlotHeight[d][a]||0;var b=this.maxSlotHeight[d];var l=this.maxSlotHeight[d][a];!c||0===c.length||0<c.find(".loading-indicator-1").length||(c=c[0].scrollHeight,l<c&&(l=c));b[a]=l;this.maxSlotHeight[d][a]=this.maxSlotHeight[d][a]>this.minSlotHeight[d][a]?
this.maxSlotHeight[d][a]:this.minSlotHeight[d][a]},updateSlotHeight:function(f,d){var a=[],b;c.each(this.maxSlotHeight[f],function(c,q){d?(a.push("#desktop-configurator-side-sheet #"+f+"dim_list .desktop-configurator-dim-row-"+q+" .dimension-slot-info {height: "+c+"px;}"),b="twister-plus-desktop-configurator-side-sheet-slot-height-"):(a.push("#inline-twister-expander-content-"+f+" .desktop-configurator-dim-row-"+q+" .dimension-slot-info {height: "+c+"px;}"),b="twister-plus-desktop-configurator-slot-height-")});
this.dynamicStyle.addCSSRules(b+f,a)},resetMinSlotHeight:function(f){this.minSlotHeight[f]||(this.minSlotHeight[f]=[]);this.minSlotHeight[f]=c.map(this.minSlotHeight[f],function(){return 0})},resetSlotHeight:function(f,d){this.maxSlotHeight[f]||(this.maxSlotHeight[f]=[]);this.dynamicStyle.addCSSRules((d?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+f,[]);this.maxSlotHeight[f]=c.map(this.maxSlotHeight[f],function(){return 0})}};return p});
"use strict";z.when("A","desktop-configurator-constants","detail-page-side-sheet").register("desktop-configurator-side-sheet-view",function(c,h,u){function p(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null;this.updateSideSheetStatus={}}function m(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function f(d,a){c.each(d,
function(b){var d="desktop-configurator-swatch-hover:"+a+"_sec";try{c.declarative.remove(b,d),c.declarative.create(b,d,{})}catch(q){z.log("Hover event subscribe failed with error: "+this.name,n.ERROR,n.ATTRIBUTION)}})}function y(d){d=Array.prototype.slice.call(d);var a=v(d[0]).find("input");d=v(d[d.length-1]).find("input");this.keyDownEventHandler=w.bind(this,a,d);document&&document.addEventListener("keydown",this.keyDownEventHandler);c.delay(function(){a&&a.focus()})}function x(){if(this.mainViewDimContainer){var d=
this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);d&&d.focus()}}function w(d,a,b){b.code&&"tab"===b.code.toLowerCase()&&(b.shiftKey?document&&document.activeElement===d[0]&&(b.preventDefault(),a.focus()):document&&document.activeElement===a[0]&&(b.preventDefault(),d.focus()))}function t(d){var a=v("#desktop-configurator-side-sheet-content-header").clone();a.removeClass("aok-hidden");a.find(".dim-name").text(d.dimensionDisplayText+
":");a.find(".dim-value").text(d.displayValueText);var b=d.optionsText;b&&a.find(".dim-options").text(b.replace("###options",d.totalValueCount));return a}var v=c.$,A=h.sideSheetSelectors,n=h.loggingConstants;p.prototype={init:function(d){var a=this,b=v("#twister-plus-inline-twister-container");0!==b.length&&(b=b[0].getBoundingClientRect().width,this.scrollbarWidth=this.getScrollbarWidth(),this.sideSheet=new u({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:h.SIDE_SHEET_ANIMATION_SPEED,
width:b+h.SIDE_SHEET_PADDING+a.scrollbarWidth,onAfterHide:function(){d.logSecViewClosed(a.activeDimKey);c.each(a.swatchList,function(b){var d=parseInt(b.getAttribute("data-idxInToggleSwatchList"),10),d=a.sideSheetData.getSwatchInfo(d);c.declarative.remove(b,"desktop-configurator-swatch-hover:"+a.activeDimKey+"_sec");a.sideSheetData.destroyPopover(d.id+"_sec")});x.call(a);a.updateSideSheetStatus[a.activeDimKey]&&a.updateSideSheetStatus[a.activeDimKey](a.activeDimKey,!1);m.call(a)}}))},open:function(d){this.activeDimKey=
d.dimKey;this.sideSheetData=d;var a=v("#inline-twister-row-"+d.dimKey+" #tp-inline-twister-dim-values-container"),b=a.find(".desktop-configurator-dim-row-0"),l=v("#side-sheet-loader-container").clone().removeClass("aok-hidden"),q=l.find(".loader-container"),g=l.find("#side-sheet-loader").clone().removeClass("aok-hidden"),e;if(d.isTextSwatch)a=b.width()-h.BORDER_WIDTH,e=b.height()-h.BORDER_WIDTH;else{var r=a.find(".inline-twister-swatch").not(".aok-hidden").not(".swatch-prototype");e=b.find(".swatch-image-container");
a=e.outerWidth();e=e.outerHeight();r=Math.abs((r.width()-b.find(".swatch-image-container").outerWidth())/2)-h.BORDER_WIDTH;g.css("margin-right",r+"px");g.css("margin-left",r+"px")}g.width(a);g.height(e);c.each(b,function(){q.append(g.clone().addClass("side-sheet-loader-1"))});b=q.clone();b.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");l.append(b);d=t(d);l.prepend(d);this.sideSheet.open(l[0].outerHTML)},update:function(d){this.mainViewDimContainer=
v("#inline-twister-row-"+d.dimKey+" #tp-inline-twister-dim-values-container");var a=this.mainViewDimContainer.clone(),b=a.find(A.DIMENSION_VALUES_LIST);b.attr("id",d.dimKey+"dim_list");var c=t(d);a.prepend(c);b.children().slice(1).removeClass("aok-hidden");b.attr("data-a-button-group",'{"name":"sec_'+d.dimKey+'"}');this.sideSheet.updateContent(a[0].outerHTML);d=this.sideSheet.container;this.swatchList=d.find(A.DIMENSION_VALUES_LIST).children().slice(1);f(this.swatchList,this.activeDimKey);this.dimValContainer=
d.find(".desktop-configurator-side-sheet-content-header .dim-value");y.call(this,this.swatchList)},close:function(){this.sideSheet.close()},registerToggleButtonGroup:function(d,a,b){var l=A.SEC_VIEW_TOGGLE_BUTTON_PREFIX+d,q=this;this.updateSideSheetStatus[d]=b;c.on("a:button-group:"+l+":toggle",function(b){q.sideSheet.close();b.selectedButton.buttonGroupName=d;a(b.selectedButton,d)})},updateDimVal:function(d){this.dimValContainer&&this.dimValContainer.length&&this.dimValContainer.text(d.subText)},
refreshWidth:function(){var d=v("#twister-plus-inline-twister-container")[0].getBoundingClientRect().width+this.scrollbarWidth;this.sideSheet.updateWidth(d+h.SIDE_SHEET_PADDING)},getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;var d=document.body?D.innerWidth-document.body.clientWidth:-1;0>d&&(d=h.DEFAULT_SCROLLER_WIDTH);return d}};return p});"use strict";z.when("A","a-popover","desktop-configurator-constants").register("desktop-configurator-popover-factory",function(c,
h,u){function p(a){var b=w("\x3cdiv /\x3e"),d=w("\x3cspan /\x3e"),c=a.title,l=a.isImageSwatch,q=!a.hideSlots;b.addClass("desktop-configurator-popover-content");d.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");d.text(c);b.append(d);l&&(d=w("\x3cdiv /\x3e"),l=w("\x3cimg /\x3e"),l.attr("src",a.image),l.attr("data-a-image-source",a.image),l.attr("alt",c),d.append(l),b.addClass("visual-dimension"),d.addClass("desktop-configurator-image-block"),b.prepend(d));q&&m(b,a.slotNode);
return b}function m(a,b){b="string"===typeof b?b:b.clone();var d=w("\x3cdiv /\x3e");a.find(".desktop-configurator-slot-block").remove();d.addClass("desktop-configurator-slot-block");d.html(b);f(d);a.append(d)}function f(a){var e=a.find(".price_slot_ppu"),d=a.find("#ms3slot"),f=a.find(".twister_swatch_price"),m=a.find("#twisterAvailability"),t=a.find("#deliveryPromisePrefix"),h=a.find(".variationReviewsSection"),n=a.find(".default-slot-unavailable");a=a.find(".loading-indicator-1");var p={variationReviews:h,
price:f,ms3:d,twisterAvailability:m.parent(),deliveryPromise:t.parent(),ppu:e};a.length&&(a.addClass("loading-indicator-in-popover"),0===b.length?a.addClass("aok-hidden"):a.removeClass("aok-hidden"));c.each(l,function(a){p[a]&&(-1===b.indexOf(a)?p[a].addClass("aok-hidden"):(p[a].removeClass("aok-hidden"),a=q[a+"_styleSlot"],"function"===typeof a&&a.call(this,p)))});n.length&&n.removeClass("a-size-small").addClass("a-size-base")}function y(a,b,d,l){d=p({slotNode:d.slotNode,title:d.title,isImageSwatch:d.isImageSwatch,
image:d.image,hideSlots:l});b=h.create(b,{name:a,inlineContent:d,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});t[a]=b;v[a]||(c.on("a:popover:afterShow:"+a,function(a){c.delay(function(){w(n.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),v[a]=!0);return b}function x(a,b,d){if(a=t[a])b=p({slotNode:b.slotNode,title:b.title,isImageSwatch:b.isImageSwatch,image:b.image,hideSlots:d}),a.update({content:b});return a}var w=c.$,t={},v={},A=u.POPOVER_DELAY,n=u.sideSheetSelectors,
d=null,a=null,b=[],l=u.CONFIGURED_SLOTS,q={price_styleSlot:function(a){var b=a.ms3,d=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),d.length&&d.removeClass("a-size-micro").addClass("a-size-small"),b.length&&(d=a.find(".twisterSwatchPrice"),d.length&&d.after(b),b.after("\x3cbr /\x3e")))},ms3_styleSlot:function(a){a=a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){a=
a.twisterAvailability;a.length&&a.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base")}};return{show:function(b,e,l,q){d=this.exists(b)?x.call(this,b,l,q):y.call(this,b,e,l,q);clearTimeout(a);var f=this;a=c.delay(function(){w(n.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");d&&d.show();f.updateIfCurrentlyActive(b,l.slotNode)},A)},exists:function(a){return!!t[a]},hide:function(b){(b=t[b])&&b.hide();d=null;clearTimeout(a)},updateIfCurrentlyActive:function(a,b){d&&d.$container&&
d.attributes.name===a&&(a=d.$container.find(".desktop-configurator-popover-content"),m(a,b))},destroy:function(b){t[b]&&h.remove(b);delete t[b];clearTimeout(a)},setVisibleSlotConfig:function(a){b=a}}});"use strict";z.when("A").register("desktop-configurator-twister-register",function(){var c=[];return{registerModifier:function(h){c.push(h)},executeModifiers:function(h){c.forEach(function(c){c.modify&&"function"===typeof c.modify&&c.modify(h)})}}});"use strict";z.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",
function(c,h){var u=c.$,p=h.widgetSelectors,m=h.classes,f=h.cssConstants,y=h.loggingConstants,x=function(){function f(){var a=u(p.IMAGE_THUMBNAIL).attr("src");return a&&a.length&&(a=a.split("."),2<a.length)?a[a.length-2]:!1}function d(a,b,d,c){c=c&&0<c.length?c:a.find(".a-button");b&&!d?(c.addClass("text-swatch-button-with-slots").removeClass("text-swatch-button"),a.find("hr").show(),a.find("hr").removeClass("aok-hidden")):(c.removeClass("text-swatch-button-with-slots").addClass("text-swatch-button"),
a.find("hr").hide(),a.find("hr").addClass("aok-hidden"))}return{alignTextSwatches:function(a,b,d){var f=0,g,e;c.each(a,function(a){a.domNode&&(a.isVisible||b||d)&&(g=a.domNode.attr("data-idxInToggleSwatchList"),e=d?u("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+g+"]"):a.domNode,a=e.find(".swatch-title-text-display"),a.length&&a[0].style.removeProperty("height"),a=a?a.height():0,f<a&&(f=a))});c.each(a,function(a){a.domNode&&(a.isVisible||b||d)&&(g=a.domNode.attr("data-idxInToggleSwatchList"),
e=d?u("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+g+"]"):a.domNode,e.find(".swatch-title-text-display").height(f))})},createSwatch:function(a,b,c,f,g,e,r){var m=!b.unavailable,t=b.isVisible,h=b.selected,n=b.showSlot,p=b.slotHtm;c="#"+c;if(e.length)return e=e.clone(),e.removeClass("swatch-prototype"),g&&e.addClass("slots-hidden"),e.attr("data-idxInToggleSwatchList",f),f=e.find(c).attr("id",b.id),e.find(c+"-announce").attr("id",b.id+"-announce"),e.find("input").attr({name:b.name,
"aria-labelledby":b.id+"-announce"}),e.find("text"===a?".swatch-title-text-display":"square_image"===a?".swatch-title-text":".swatch-text").text(b.text),m||f.addClass("a-button-unavailable"),h&&f.addClass("a-button-selected"),"text"!==a&&(h=e.find(".swatch-image"),h.addClass("inline-twister-manual-load"),h.attr({"data-a-image-source":b.image||"",id:"inline-twister-image-"+b.name,alt:b.text})),h=e.find(".dimension-slot-info"),h.length&&(h.attr("id","dimension-slot-info-"+b.name),n?m?0<p.length&&h.html(p):
h.html(b.defaultSlotUnavailable):e.find("text"===a?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),"text"===a&&d(e,n,g,f)),r.append(e),t||e.addClass("aok-hidden"),e},getThumbnailImageUrlForPhysicalId:function(a){return a&&a.length&&(a=a.split("."),2<a.length)?(a.splice(-2,1,f()),a.join(".")):!1},updateSlotSectionInTextSwatch:d}}(),w=function(f){function d(a,b,d,c,g,e,r,h){this.id=a.id;this.unavailable=!!a.unavailable;this.selected=!!a.selected;this.showSlot=a.showSlot;this.slotHtm=
a.slotHtm;this.isImageSwatch=!b;this.asin=a.asin;this.pageUrl=a.pageUrl;this.hideSlotsFromMainView=g;var m=b?"text":a.isCirclularImageSwatch?"circular_image":"square_image";this.domNode=h?u(h):f.createSwatch(m,a,d,c,g,e,r);this.isVisible=a.isVisible;this.imageUrl=a.image;this.popoverImage=a.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=b?".slots-padding":".dimension-slot-info";this.title=a.text;this.name=a.name;this.subscribeToHoverEvent(d)}d.prototype={setState:function(a,b,d,c){this.selected=
!!a.selected;this.updateAvailablity(a);this.updateSlotNode(a,b,d);this.updateVisibility(a);this.updateSwatchIndexInDomNode(c);return this},getSlotNode:function(a){this.slotNode||(this.slotNode=this.domNode.find(p.SLOT_NODE_SELECTOR));if(!a)return this.slotNode;a=this.slotNode?this.slotNode.attr("id"):"";return u("#desktop-configurator-side-sheet").find("#"+a)},updateSlotNode:function(a,b,d){this.slotNode||(this.slotNode=this.domNode.find(p.SLOT_NODE_SELECTOR));this.showSlot!==a.showSlot&&((this.showSlot=
a.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),this.isImageSwatch||f.updateSlotSectionInTextSwatch(this.domNode,this.showSlot,this.hideSlotsFromMainView));this.slotHtm!==a.slotHtm&&(b&&u("#tp-inline-twister-sec-view-"+d+" #"+this.slotNode.attr("id")).html(a.slotHtm),this.slotNode.html(a.slotHtm),this.slotHtm=a.slotHtm)},updateAvailablity:function(a){this.toggleButton||(this.toggleButton=this.domNode.find(p.TOGGLE_BUTTON_SELECTOR));
(this.unavailable=a.unavailable)?this.toggleButton.addClass(m.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(m.A_BUTTON_UNAVAILABLE)},updateSelection:function(){this.toggleButton||(this.toggleButton=this.domNode.find(p.TOGGLE_BUTTON_SELECTOR));this.selected?(this.toggleButton.addClass(m.A_BUTTON_SELECTED),this.toggleButton.removeClass(m.A_BUTTON_UNAVAILABLE)):(this.toggleButton.removeClass(m.A_BUTTON_SELECTED),this.toggleButton.removeClass(m.A_BUTTON_FOCUS))},updateVisibility:function(a){a.isVisible?
this.domNode.removeClass(m.AOK_HIDDEN):this.domNode.addClass(m.AOK_HIDDEN);this.isVisible=a.isVisible},subscribeToHoverEvent:function(a){a="desktop-configurator-swatch-hover:"+a;try{c.declarative.remove(this.domNode,a),c.declarative.create(this.domNode,a,{})}catch(b){z.log("Hover event subscribe failed with error: "+this.name,y.ERROR,y.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(a){this.domNode&&this.domNode.attr("data-idxInToggleSwatchList",a)},getTopPosition:function(){var a=this.domNode.position();
return this.topPosition=a?a.top:0}};return d}(x),t=function(f,d){function a(a,d,f,g){var e=this;this.isTextSwatch=a.isTextSwatch;this.name=a.name;this.domNode=u(p.EXPANDER_CONTENT_PREFIX+a.name);this.title=g;this.selectedSwatch=null;this.swatches={};this.orderedSwatchList=[];this.initialVisibleSwatchList={};this.swatchIdxOrder=[];this.isPageRefreshActive=!1;this.totalSwatchCount=a.totalSwatchCount||0;this.onChange=a.onChange;this.hoverHandler=a.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=
d.autoNotificationCallback;this.rowContainer=f;this.swatchListContainer=this.domNode.find(p.DIMENSION_VALUES_LIST);this.markAutoUpdated=!1;this.hideSlotsFromMainView=a.hideSlotsFromMainView;this.windowResizeCallback=d.windowResizeCallback;this.displaySwatches=[];this.numberOfSwatchesPerRow=0;this.swatchPrototypeNode=u("#"+a.name).closest(p.SWATCH_NODE_SELECTOR);this.swatchPrototypeNodeParent=this.swatchPrototypeNode.parent();c.on("a:button-group:"+this.name+":toggle",function(a){var b=parseInt(a.selectedButton.buttonName,
10),d=e.swatches[b];d?e.isPageRefreshActive?(e.isUserInteracting=!0,b=d.unavailable,d.updateSelection(),e.autoNotificationCallback&&e.autoNotificationCallback(b,!0),e.onChange&&e.onChange(e.swatches,a.selectedButton,e.markAutoUpdated),e.setAutoUpdated(!1)):d.pageUrl&&(D.location.href=d.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+b+" ; Swatch length: "+Object.keys(e.swatches).length,z.log(a,y.ERROR,y.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+
a.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name+"_sec",!0);if(this.isTextSwatch)c.on("resize",function(){0<e.displaySwatches.length&&(e.repopulateDisplaySwatches(),e.alignTextSwatches(),"function"===typeof e.windowResizeCallback&&e.windowResizeCallback(e.name))})}a.prototype={setState:function(a,l,f,g){var e=this,h,m=[],t=[],p=[];c.objectIsEmpty(l)||(c.each(l,function(c,l){if(!e.swatches[l]&&(a.swatches[l].isVisible||f)){var g=new d(a.swatches[l],e.isTextSwatch,e.name,
l,e.hideSlotsFromMainView,e.swatchPrototypeNode,e.swatchPrototypeNodeParent);g.subscribeToHoverEvent(e.name);e.swatches[l]=g;!e.isTextSwatch&&e.swatches[l]&&e.swatches[l].domNode&&p.push(e.swatches[l].domNode.find(".inline-twister-manual-load")[0])}t[c]=l}),this.swatchIdxOrder=t,g||(this.resetToggleSwatchContainer(),this.displaySwatches=[]),c.each(this.swatchIdxOrder,function(a,b){if(a=e.swatches[a])a&&e.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(e.name),e.addToDisplaySwatches(a,
e.displaySwatches)}));c.each(a.swatches,function(a,b){if(e.swatches[b])h=a.selected?e.swatches[b]:h,e.swatches[b].selected=!!a.selected,m.push({index:b,data:a});else{if(a.isVisible||f)e.swatches[b]=new d(a,e.isTextSwatch,e.name,b,e.hideSlotsFromMainView,e.swatchPrototypeNode,e.swatchPrototypeNodeParent),e.swatches[b].subscribeToHoverEvent(e.name),e.addToDisplaySwatches(e.swatches[b],e.displaySwatches),!e.isTextSwatch&&e.swatches[b]&&e.swatches[b].domNode&&p.push(e.swatches[b].domNode.find(".inline-twister-manual-load")[0]);
a.selected&&(h=e.swatches[b])}});this.selectedSwatch&&this.selectedSwatch.updateSelection();h&&h.updateSelection();c.each(m,function(a,b){e.swatches[a.index].setState(a.data,f,e.name,a.index)});!c.objectIsEmpty(l)&&this.isTextSwatch&&this.alignTextSwatches();e.selectedSwatch&&h&&e.selectedSwatch!==h&&!e.isUserInteracting&&e.autoNotificationCallback(!0);e.selectedSwatch=h;e.isUserInteracting=!1;p.length&&c.loadImageManually(p);return this},getSlotNodes:function(a){return c.map(this.displaySwatches,
function(d){return c.map(d,function(d){return d.getSlotNode(a)})})},setUserInteracting:function(a){this.isUserInteracting=a},alignTextSwatches:function(a,d){c.each(this.displaySwatches,function(c){f.alignTextSwatches(c,a,d)})},resetToggleSwatchContainer:function(){var a=u(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(a)},getVisibleSwatchesSize:function(){var a=0;c.each(this.swatches,function(d,c){d.isVisible&&(a+=1)});return a},
setAutoUpdated:function(a){this.markAutoUpdated=a},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(a){a&&(this.numberOfSwatchesPerRow=a)},createSwatch:function(a,c){c=new d(a,this.isTextSwatch,this.name,a.name,this.hideSlotsFromMainView,this.swatchPrototypeNode,this.swatchPrototypeNodeParent,c);this.swatches[a.name]=c;this.initialVisibleSwatchList[a.name]=c;this.selectedSwatch=
a.selected?c:this.selectedSwatch;this.orderedSwatchList.push(c);return c},activatePageRefresh:function(){this.isPageRefreshActive=!0;this.domNode.find(".page-load-link").remove()},getSwatch:function(a){return this.swatches[a]?this.swatches[a]:{}},registerHoverDeclarative:function(a,d){var f=this;c.declarative(a,"mouseenter mouseleave",function(a){var b=a.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),b=f.getSwatch(b);a.data={slotNode:a.$currentTarget.find(b.slotNodeIdentifier),isImageSwatch:b.isImageSwatch,
unavailable:b.unavailable,showSlot:b.showSlot,selected:b.selected,title:b.title,name:b.name,id:d?b.id+"_sec":b.id,image:b.popoverImage};f.hoverHandler(f.name,a)})},addToDisplaySwatches:function(a,d){var c=m.ROW_IDENTIFIER_PREFIX;if(0===d.length)d.push([a]);else{var f=d[d.length-1];f&&f.length===this.numberOfSwatchesPerRow?d.push([a]):f.push(a)}this.removeSwatchRowIdentifier(a);a.domNode&&a.domNode.addClass(c+(d.length-1).toString())},adjustSwatchWidthAndSpacing:function(){var a=this.getNumberOfSwatchesPerRow();
if(this.totalSwatchCount>a){var d=this.displaySwatches[0][0].domNode,a=this.domNode.find(".a-button"),c=this.domNode[0].getBoundingClientRect().width-1,d=d.width(),f=this.getNumberOfSwatchesPerRow(),c=c-(d*f+(this.isTextSwatch?h.TEXT_SWATCH_MARGIN_RIGHT:0)*f);0<c&&(c=parseFloat(c/f),a.width(d+c))}},repopulateDisplaySwatches:function(){if(0!==this.displaySwatches.length){var a=[],d=0,f,g=this;c.each(this.displaySwatches,function(e,h){c.each(e,function(c,e){0===a.length?a.push([c]):0===d?(f=a[0][a[0].length-
1],c.getTopPosition()!==f.getTopPosition()?(d=a[0].length,g.numberOfSwatchesPerRow=d,g.addToDisplaySwatches(c,a)):(a[0].push(c),g.removeSwatchRowIdentifier(c),c.domNode&&c.domNode.addClass(m.ROW_IDENTIFIER_PREFIX+(0).toString()))):g.addToDisplaySwatches(c,a)})});0===d&&(this.numberOfSwatchesPerRow=d=a[0].length);this.displaySwatches=a}},removeSwatchRowIdentifier:function(a){a.domNode&&a.domNode.removeClass(function(a,b){return(b.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||[]).join(" ")})},createDisplaySwatches:function(){var a=
this;c.each(this.orderedSwatchList,function(d){a.addToDisplaySwatches(d,a.displaySwatches)})},removeMisplacedSwatch:function(){var a=this.displaySwatches[this.displaySwatches.length-1],a=a[a.length-1],d=a.name;a.domNode&&a.domNode.remove();delete this.swatches[d];this.selectedSwatch&&this.selectedSwatch.name===d&&(this.selectedSwatch=null);this.displaySwatches.pop()},removeInitiallyHiddenSwatches:function(){for(var a=this.domNode.find(".inline-twister-swatch.aok-hidden:not(.swatch-prototype)"),d=
a.length-1;0<=d;d--){var c=a[d];c.parentNode.removeChild(c)}}};return a}(x,w),v=function(f){function d(a){this.mainText=a.mainText;this.subText=a.subText;this.dimKey=a.dimKey;this.titleSelectorPrefix=a.titleSelectorPrefix;this.titleValueSelector=a.titleValueSelector;this.domNode=u("#"+this.titleSelectorPrefix+this.dimKey)}d.prototype={refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},
setState:function(a){return c.equals(a,u.extend({},this))?this:(u.extend(this,a),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return d}(x),A=function(t,d,a){function b(a,b,g,e,h){function t(){v=v||n.domNode.find(".dimension-heading");v.css(f.BG_COLOR,f.GREEN_BG_COLOR);c.delay(function(){c.animate(v,{"background-color":f.WHITE_BG_COLOR},200)},1E3)}var n=this;this.disableCollapseFunctionality=g.inlineTwisterData?g.inlineTwisterData.disableCollapseFunctionality:
!1;this.stringTranslationMap=g.inlineTwisterData?g.inlineTwisterData.stringTranslationMap:{};this.title=b?new d(b):null;this.dimKey=g.dimKey;this.domNode=u("#"+a+this.dimKey);this.showSlot=g.showSlot;this.logger=h;this.isTwisterCoreInitialized=this.isInlineExpanded=this.markAutoUpdated=!1;this.expanderContent=n.domNode.find(p.EXPANDER_CONTENT_PREFIX+this.dimKey);this.expanderHeader=n.domNode.find(p.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=n.domNode.find(p.DIMENSION_EXPANDER_ICON_PREFIX+this.dimKey);
this.expandedText=n.domNode.find(p.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=n.domNode.find(p.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=e;this.autoNotificationExpanded=n.domNode.find(p.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=n.autoNotificationExpanded.text();this.imageThumbnail=n.domNode.find(p.IMAGE_THUMBNAIL);this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.inlineExpansionLink=this.domNode.find(".tp-inline-expansion-link");
this.isExpanded=this.expanderContent.hasClass("dimension-expander-content-expand");var v;this.autoNotificationCallback=function(a,b){var d=n.autoNotificationExpandedText;a?n.isExpanded&&b?(n.autoNotificationExpanded.find("."+m.A_COLOR_ATTAINABLE).html(d),n.autoNotificationExpanded.removeClass(m.AOK_HIDDEN)):(t(),n.setAutoUpdated(!0)):n.hideAutoNotification()};this.disableCollapseFunctionality||c.declarative("toggle-dimension-expander-"+this.dimKey,"click",function(a){n.isExpanded?n.collapse():n.expand();
n.hideAutoNotification()})}b.prototype={setState:function(a,b,d,c,f,h){this.toggleSwatch&&d!==this.dimKey&&this.autoNotificationExpanded.addClass(m.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,b,f,h);f||c&&this.title&&this.title.setState(c)},expand:function(){this.expanderContent&&this.expanderContent.css("visibility","");this.expanderContent&&this.expanderContent.addClass(m.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&this.icon.addClass(m.ROTATE);this.expandedText&&this.expandedText.removeClass(m.AOK_HIDDEN);
this.collapsedText&&this.collapsedText.addClass(m.AOK_HIDDEN);this.imageThumbnail.addClass(m.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),
a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(p.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}this.markAutoUpdated&&(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&this.expanderContent.removeClass(m.DIMENSION_EXPANDER_CONTENT_EXPAND);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(m.ROTATE);
this.expandedText&&this.expandedText.addClass(m.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(m.AOK_HIDDEN);this.imageThumbnail.removeClass(m.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!1);this.autoNotificationExpanded.addClass(m.AOK_HIDDEN);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:
"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(p.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,b){a=this.expanderHeader.attr("aria-label").replace(a.subText,b.subText);this.expanderHeader.attr("aria-label",
a);this.expanderHeader.find(p.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)},setThumbnailImage:function(a){(a=t.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?this.toggleSwatch.getInitialVisibleSwatchList():{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&
this.toggleSwatch.activatePageRefresh()},showInlineExpansionLink:function(){this.inlineExpansionLink.removeClass("aok-hidden")},hideInlineExpansionLink:function(){this.inlineExpansionLink.addClass("aok-hidden")},showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},hideSideSheetLink:function(){this.sideSheetLink.addClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,b,d){var c=this;this.expanderContent.animate({"max-height":a+
"px"},b,function(){c.setMaxHeight("");d&&d()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},createDisplaySwatches:function(){this.toggleSwatch&&this.toggleSwatch.createDisplaySwatches()},adjustSwatchWidthAndSpacing:function(){this.toggleSwatch&&this.toggleSwatch.adjustSwatchWidthAndSpacing()},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(m.AOK_HIDDEN)},initializeComponents:function(b,d,f){if(!this.toggleSwatch&&b){var e=this.title.getData();
this.toggleSwatch=new a(b,{windowResizeCallback:f.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},this.domNode,e.mainText)}this.isTextSwatch=b?b.isTextSwatch:!0;this.rowCallbacks=c.extend(this.rowCallbacks,f);this.totalSwatchCount=b?b.totalSwatchCount:0;this.showSlot=d;var h=this;c.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof h.rowCallbacks.showSideSheet&&h.isTwisterCoreInitialized&&(h.rowCallbacks.showSideSheet(h.dimKey,
h.showSlot,h.title.getData()),h.hideAutoNotification())});c.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:expand",function(){"function"===typeof h.rowCallbacks.toggleInlineExpansion&&(h.rowCallbacks.toggleInlineExpansion(h.dimKey,h.showSlot,!0),h.hideAutoNotification(),h.isInlineExpanded=!0)});c.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:collapse",function(){"function"===typeof h.rowCallbacks.toggleInlineExpansion&&(h.rowCallbacks.toggleInlineExpansion(h.dimKey,
h.showSlot,!1),h.hideAutoNotification(),h.isInlineExpanded=!1)})},postInitialize:function(){this.isTwisterCoreInitialized=!0;var a={dimKey:this.dimKey};this.toggleSwatch&&this.toggleSwatch.removeInitiallyHiddenSwatches();this.isExpanded&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0)},handleSeeMoreIngress:function(a){var b=(this.toggleSwatch?this.toggleSwatch.getNumberOfSwatchesPerRow():0)*h.MAX_INLINE_ROWS;a<this.totalSwatchCount&&b>=this.totalSwatchCount&&(this.hideSideSheetLink(),
this.showInlineExpansionLink())}};return b}(x,v,t);return{Swatch:w,ToggleSwatch:t,Title:v,Row:A,utils:x}});"use strict";z.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",function(c,h){function u(c){var f=c.id&&"string"===typeof c.id,p=1===x("#"+c.id).length;if(f&&p)this.id=c.id,this.shouldRenderHTMLString=!!c.shouldRenderHTMLString,this.animationDuration=c.animationDuration||300,this.container=h.getContainer(c.id),this.onBeforeShow=c.onBeforeShow,this.onAfterHide=c.onAfterHide,
f=c.width||580,(p=this.container)&&p.width(f),y(c.id,f),m.call(this);else throw c="Side sheet initialisation failed: "+(f?"Side sheet not present in DOM, or multiple instances of side sheet ID "+c.id+" exist":"Invalid Side sheet ID"),z.log(c,"ERROR","DetailPageSideSheet"),c;}function p(c){var f=this.container;c=this.shouldRenderHTMLString?x(c):x(c).clone();f.html(c);c.css("display","block");f.removeClass("aok-hidden")}function m(){var f=this;c.declarative("close-detail-page-side-sheet:"+this.id,"click",
function(){f.close()});c.declarative("open-detail-page-side-sheet:"+this.id,"click",function(c){f.open(c&&c.data?c.data.content:null)})}function f(c){c.code&&"escape"===c.code.toLowerCase()&&(this.close(),document&&document.removeEventListener("keydown",w))}function y(c,f){c=x("#"+c+"-background .close-button");c.length&&(c[0].style.marginRight=f+10+"px")}var x=c.$,w=null;u.prototype={open:function(c){if(c&&"string"===typeof c){p.call(this,c);if(this.onBeforeShow)this.onBeforeShow();h.showSideSheet(this.id,
this.animationDuration);w=f.bind(this);document&&document.addEventListener("keydown",w)}else z.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},close:function(){h.closeSideSheet(this.id,this.animationDuration);h.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(c){var f=this.container;f&&f.width(c);y(this.id,c)},updateContent:function(c){c&&"string"===typeof c?p.call(this,c):z.log("Invalid side sheet content. Side sheet ID: "+
this.id,"ERROR","DetailPageSideSheet")}};return u});"use strict";z.when("A").register("detail-page-side-sheet-handlers",function(c){function h(c,h){m("#"+c+" .detail-page-side-sheet-content").show(function(){p({right:"0px"},c,h)})}function u(c,h){m("#"+c+" .detail-page-side-sheet-content").show(function(){p({right:"-600px"},c,h)})}function p(f,h,p){c.animate(m("#"+h+" .detail-page-side-sheet-content"),f,p)}var m=c.$;return{showSideSheet:function(c,p){m("body").css("overflow","hidden");m(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");
m("#"+c).removeClass("aok-hidden");h(c,p)},closeSideSheet:function(c,h){u(c,h);m(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");m("#"+c).addClass("aok-hidden");m("body").css("overflow","scroll")},getContainer:function(c){return m("#"+c).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(c){c.html("")}}})});