'use strict';mix_d("SimilaritiesUICards__p13n-desktop-sims-fbt:p13n-desktop-sims-fbt__iWg3NV3U",["exports","tslib","@c/browser-operations","@c/scoped-dom"],function(I,x,R,S){function J(b){return b&&"object"===typeof b&&"default"in b?b:{"default":b}}var T=J(R),d=J(S),Q=function(b){return x.__awaiter(void 0,void 0,void 0,function(){var l,y,a,e,f,c,r,C,t,D,m,E,n,p,u,F,v,K,k,z;return x.__generator(this,function(G){a=d["default"].cardRoot.getElementsByClassName("cardRoot")[0];e=1;a&&a.dataset.count&&(e=
Number(a.dataset.count));a&&a.dataset.components&&(f=JSON.parse(a.dataset.components));a&&a.dataset.addToCart&&(c=JSON.parse(a.dataset.addToCart));a&&a.dataset.priceTotals&&(r=JSON.parse(a.dataset.priceTotals));a&&a.dataset.pointsTotal&&(C=JSON.parse(a.dataset.pointsTotal));if(f&&r){G=f;for(var L=e,M=[],N=[],g=0;g<L;g++){var q=g+1;1<q&&(M[g]=d["default"].cardRoot.getElementsByClassName("thumbnailPlus-"+String(q))[0]);N[g]=d["default"].cardRoot.getElementsByClassName("thumbnail-"+String(q))[0]}var H=
!1,O=0,P="";for(g=0;g<L;g++){q=String(g+1);var w=M[g],A=N[g];G[q]&&G[q].checked?(O++,P+=q,0===g?H=!0:w&&(H?w.style.display="unset":(H=!0,w.style.display="none")),A&&(A.style.display="unset")):(w&&(w.style.display="none"),A&&(A.style.display="none"))}l=O;y=P;t=l;D=r[y];m=d["default"].cardRoot.getElementsByClassName(b.totalLabel)[0];E=d["default"].cardRoot.getElementsByClassName(b.totalAmount)[0];n=d["default"].cardRoot.getElementsByClassName(b.addItems)[0];p=d["default"].cardRoot.getElementsByClassName(b.chooseItems)[0];
u=d["default"].cardRoot.getElementsByClassName(b.actionDetails)[0];0===t?(n&&(n.style.display="none"),m&&(m.style.display="none"),p&&(p.style.display="unset"),u&&(u.style.visibility="hidden")):(D?(m&&E&&(E.innerText=D,m.style.display="block"),n&&(n.style.display="none"),p&&(p.style.display="none")):(n&&(n.style.display="inline-block"),p&&(p.style.display="none"),m&&(m.style.display="none")),u&&(u.style.visibility="visible"));a&&f&&C&&(F=d["default"].cardRoot.getElementsByClassName(b.pointsAmount)[0],
v=d["default"].cardRoot.getElementsByClassName(b.totalPointsLabel)[0],(K=C[y])?v&&F&&(F.innerText=K,v.style.display="block"):v&&(v.style.display="none"));k=d["default"].cardRoot.getElementsByClassName(b.addAllButton)[0];z=void 0;k&&(z=k.getElementsByClassName("a-button-text")[0]);0===t?k&&!k.classList.contains("a-button-disabled")&&k.classList.add("a-button-disabled"):(k&&k.classList.contains("a-button-disabled")&&k.classList.remove("a-button-disabled"),z&&c&&c.length>=t&&(z.innerText=c[t-1]))}return[2]})})},
B;(function(b){b.clickHandler="clickHandler";b.checkHandler="checkHandler";b.popupHandler="popupHandler"})(B||(B={}));var h={simsFbtContainter:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-containter__2Cffh",thumbnailBox:"_p13n-desktop-sims-fbt_fbt-desktop_thumbnail-box__4jnIT",thumbnailPlus:"_p13n-desktop-sims-fbt_fbt-desktop_thumbnail-plus__zdWox",productBox:"_p13n-desktop-sims-fbt_fbt-desktop_product-box__3PBxY",itemDetailsPerAsin:"_p13n-desktop-sims-fbt_fbt-desktop_item-details-per-asin__3DtF1",
fbtItemCheck:"_p13n-desktop-sims-fbt_fbt-desktop_fbt-item-check__pUIoy",addAllButton:"_p13n-desktop-sims-fbt_fbt-desktop_add-all-button__1TRXG",totalLabel:"_p13n-desktop-sims-fbt_fbt-desktop_total-label__dI983",totalPointsLabel:"_p13n-desktop-sims-fbt_fbt-desktop_total-points-label__3r09H",addItems:"_p13n-desktop-sims-fbt_fbt-desktop_add-items__16weX",chooseItems:"_p13n-desktop-sims-fbt_fbt-desktop_choose-items__15UQx",totalAmount:"_p13n-desktop-sims-fbt_fbt-desktop_total-amount__wLVdU",pointsAmount:"_p13n-desktop-sims-fbt_fbt-desktop_points-amount__1SNdT",
priceAddToCartBox:"_p13n-desktop-sims-fbt_fbt-desktop_price-add-to-cart-box__3OUdK",shipMessageBox:"_p13n-desktop-sims-fbt_fbt-desktop_ship-message-box__t-OOr",shippingInfoShowBox:"_p13n-desktop-sims-fbt_fbt-desktop_shipping-info-show-box__17yWM",showDetailsBox:"_p13n-desktop-sims-fbt_fbt-desktop_show-details-box__-R3Xb",showDetails:"_p13n-desktop-sims-fbt_fbt-desktop_show-details__3GnPL",hideDetails:"_p13n-desktop-sims-fbt_fbt-desktop_hide-details__28l17",simsFbtUnselectedItem:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-unselected-item__VQmZx",
simsFbtRows:"_p13n-desktop-sims-fbt_fbt-desktop_sims-fbt-rows__2LJXs",bucketDivider:"_p13n-desktop-sims-fbt_fbt-desktop_bucket-divider__25poP",titleTruncate:"_p13n-desktop-sims-fbt_fbt-desktop_title-truncate__1pPAM",detailRowElement:"_p13n-desktop-sims-fbt_fbt-desktop_detail-row-element__2WDgq",detailRowElementLeftMargin:"_p13n-desktop-sims-fbt_fbt-desktop_detail-row-element-left-margin__UkZ8O",actionDetails:"_p13n-desktop-sims-fbt_fbt-desktop_action-details__18ZiI"};I._operationNames=[];I.card=function(){return x.__awaiter(void 0,
void 0,void 0,function(){var b,l;return x.__generator(this,function(y){b=T["default"].setup().define;if(!d["default"].cardRoot)return[2];Q(h);l=!0;b(B.clickHandler,"click",function(a){if(a.event.target){a=d["default"].cardRoot.getElementsByClassName(h.shippingInfoShowBox);var e=d["default"].cardRoot.getElementsByClassName(h.showDetails)[0],f=d["default"].cardRoot.getElementsByClassName(h.hideDetails)[0];e&&(l?(e.style.display="none",f.style.display="unset",a&&([].forEach.call(a,function(c,r){c.style.display=
"block"}),l=!1)):(e.style.display="unset",f.style.display="none",a&&[].forEach.call(a,function(c,r){c.style.display="none"}),l=!0))}});b(B.checkHandler,"click",function(a){a=a.event.target;if(!a||"fbtCheck"===a.id.substr(0,8)){for(;a&&!a.classList.contains(h.fbtItemCheck);)a=a.parentElement;if(a){var e=a.id,f=d["default"].cardRoot.getElementsByClassName("cardRoot")[0],c=void 0;f&&f.dataset.components&&(c=JSON.parse(f.dataset.components));c&&c[e]&&(c[e].checked=!c[e].checked);c&&c[e].checked&&(a.classList.contains(h.simsFbtUnselectedItem)&&
a.classList.remove(h.simsFbtUnselectedItem),a.classList.contains(h.fbtCheckDetails)||a.classList.add(h.fbtCheckDetails));c&&!c[e].checked&&(a.classList.remove(h.fbtCheckDetails),a.classList.add(h.simsFbtUnselectedItem));f.dataset.components=JSON.stringify(c);Q(h)}}});return[2]})})}});
